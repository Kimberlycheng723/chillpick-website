<header class="navbar navbar-expand-lg py-3" style="background-color: #EBE8D5;">
  <div class="container-fluid justify-content-between align-items-center">

      <!-- Left Logo -->
      <a class="navbar-brand d-flex align-items-center" href="/">
          <img src="../../images/logo_final.png" alt="ChillPick Logo" style="height: 60px;">
      </a>

      <!-- Toggler for mobile -->
      <button class="navbar-toggler border-2 rounded-3 px-2" type="button" data-bs-toggle="collapse"
          data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
      </button>

      <!-- Nav links -->
      <div class="collapse navbar-collapse justify-content-center" id="navbarNav">
          <ul class="navbar-nav flex-row flex-wrap text-center">
              <li class="nav-item"><a class="nav-link nav-custom" href="/">Home</a></li>
              <li class="nav-item"><a class="nav-link nav-custom" href="/dashboard">Dashboard</a></li>
              <li class="nav-item"><a class="nav-link nav-custom" href="/discover">Discover</a></li>
              <li class="nav-item"><a class="nav-link nav-custom" href="/watchlist">Watchlist</a></li>

              <!-- Show Profile (mobile only) -->
              <li class="nav-item d-lg-none">
                  <a class="nav-link nav-custom" href="/account/profile">Profile</a>
              </li>
          </ul>
      </div>

      <!-- Logged-in icon (Profile) -->
      <a href="/account/profile" id="userIcon" class="d-none d-lg-block">
          <img src="/images/profile_pic.png" alt="Profile" class="rounded-circle" style="height: 48px; width: 48px;">
      </a>
  </div>
</header>

<!-- Bootstrap 5.3.0 JS Bundle -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

</body>
</html>


<style>
  .custom-navbar {
    background-color: #f4f2e6;
    box-shadow: 0 2px 8px rgba(0,0,0,0.05);
    padding: 5px 30px;
    height: 80px;
  }

  .nav-custom {
    font-family: 'Poppins', sans-serif;
    font-weight: 600;
    font-size: 18px;
    color: #5c5757;
    text-decoration: none;
    margin: 0 15px;
  }

.nav-custom:hover {
  color: #000 !important;
}
.btn-signin {
  background-color: transparent;
  color: #6B4F3D;
  border: 1px solid #6B4F3D;
  border-radius: 50px;
  padding: 8px 20px;
  font-weight: 500;
  transition: background-color 0.3s, color 0.3s;
}

.btn-signin:hover {
  background-color: #6B4F3D;
  color: white;
}
</style>
<script>
  document.addEventListener("DOMContentLoaded", function () {
    const isLoggedIn = localStorage.getItem("isLoggedIn") === "true";

    const userIcon = document.getElementById("userIcon");
    const loginLink = document.getElementById("loginLink");
    const userIconMobile = document.getElementById("userIconMobile");
    const loginLinkMobile = document.getElementById("loginLinkMobile");
    const authNav = document.getElementById("authNav");

    if (isLoggedIn) {
      const currentUserEmail = localStorage.getItem("currentUser");
      if (currentUserEmail) {
        const profileData = JSON.parse(localStorage.getItem(`profile_${currentUserEmail}`)) || {};
        const profilePicUrl = profileData.profilePicture;
        if (profilePicUrl) {
          const headerImg = userIcon.querySelector("img");
          if (headerImg) {
            headerImg.src = profilePicUrl;
          }
        }
      }
      userIcon.style.display = "inline-block";
      loginLink.style.display = "none";
      if (userIconMobile) userIconMobile.style.display = "inline-block";
      if (loginLinkMobile) loginLinkMobile.style.display = "none";
      if (authNav) authNav.style.display = "block";
    } else {
      userIcon.style.display = "none";
      loginLink.style.display = "inline-block";
      if (userIconMobile) userIconMobile.style.display = "none";
      if (loginLinkMobile) loginLinkMobile.style.display = "inline-block";
      if (authNav) authNav.style.display = "none";
    }
  });
</script>
<!-- Bootstrap JavaScript Bundle with Popper -->
<!-- <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script> -->
